---
title: "Issue 1: Why...so...slow?"
description: "Debugging performance issues in the marketplace"
---

import { Steps } from '@astrojs/starlight/components';

From where we left off, we were viewing our Laravel framework view in Sentry. We can clearly see performance issues on our main route for the application.

![Laravel Route Performance](/../../assets/img/SentryLaravelView.png)

If we dive into our route, we can quickly tell that performance is decidedly **not good**.

![Laravel Route Performance](/../../assets/img/LaravelRoutePerformance.png)

In this view, we can quickly see that the total load time for our main site in most case exceeds 1.5 seconds; which is pretty atrocious for a site that should be loading up quickly to allow purchases.

## Trace View - Part 1 

If we dive into any of the transactions, we can see a detailed view of the overall trace, and the spans below it that cover the load time for our application. 

![Laravel Trace View](/../../assets/img/LaravelExampleTraceView.png)

A couple of insights we can immediately notice:
- These traces are 80% slower than the average
- The majority of time is coming from a /render call thats being made 
- Our database queries are fast in comparison; so its a different aspect of loading thats slowing us down 

We can instrument custom traces to help us identify where the performance is taking the biggest hit.

## TODO - Start tracing steps

<Steps>
  1. **Update the import statement**

     ```javascript
     // this is line 4
     import * as Sentry from '@sentry/nextjs';
     ```

  2. **Update the catch block in your code**

     ```javascript
     } catch (error) {
         console.error('Error in products API route:', error);

         // SENTRY-THIS: Cathing your exceptions!
         Sentry.captureException(error);

         return NextResponse.json(
     ```
</Steps>

